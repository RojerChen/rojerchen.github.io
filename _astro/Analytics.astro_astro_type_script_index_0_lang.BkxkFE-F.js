window.BlogTrackerConfig={trackEndpoint:"https://yqnhymtpjnbelzoufqyl.supabase.co/functions/v1/track",blogId:"RojerChenGithubPage",debug:!1},function(){var t=window.BlogTrackerConfig||{};if(t.trackEndpoint&&t.blogId){var e=t.debug||!1;window.BlogTracker={track:s,collectData:u},n("Initializing with config:",t),"complete"===document.readyState?setTimeout(s,100):window.addEventListener("load",(function(){setTimeout(s,100)}))}else console.error("[BlogTracker] Missing required config: trackEndpoint or blogId");function n(){e&&console.log.apply(console,["[BlogTracker]"].concat(Array.prototype.slice.call(arguments)))}function r(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function o(t,e){try{var n=e.getItem(t);return n||(n=r(),e.setItem(t,n)),n}catch{return r()}}function a(t){if(!t)return null;try{return new URL(t).hostname}catch{return null}}function i(){try{return screen.orientation&&screen.orientation.type?screen.orientation.type.includes("portrait")?"portrait":"landscape":window.innerHeight>window.innerWidth?"portrait":"landscape"}catch{return null}}function c(){try{return parseInt(localStorage.getItem("_bt_visits")||"0",10)}catch{return 1}}function u(){var e=function(t){try{var e=new URL(t);return{path:e.pathname,hash:e.hash,queryString:e.search}}catch{return{path:"",hash:"",queryString:""}}}(window.location.href),r=function(){var t=new URLSearchParams(window.location.search);return{utmSource:t.get("utm_source"),utmMedium:t.get("utm_medium"),utmCampaign:t.get("utm_campaign"),utmTerm:t.get("utm_term"),utmContent:t.get("utm_content")}}(),u=function(){var t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return t?{connectionType:t.type,effectiveType:t.effectiveType,downlink:t.downlink,rtt:t.rtt,saveData:t.saveData}:{}}(),s=function(){var t={};try{var e=performance.timing;e&&(t.pageLoadTime=e.loadEventEnd-e.navigationStart,t.domReadyTime=e.domContentLoadedEventEnd-e.navigationStart),performance.getEntriesByType("paint").forEach((function(e){"first-paint"===e.name?t.firstPaint=Math.round(e.startTime):"first-contentful-paint"===e.name&&(t.firstContentfulPaint=Math.round(e.startTime))}))}catch(t){n("Performance metrics error:",t)}return t}(),g=function(){try{return!sessionStorage.getItem("_bt_session_started")}catch{return!0}}();return g&&(function(){try{var t=parseInt(localStorage.getItem("_bt_visits")||"0",10);return t++,localStorage.setItem("_bt_visits",t.toString()),t}catch{return 1}}(),function(){try{sessionStorage.setItem("_bt_session_started","1")}catch{}}()),{blogId:t.blogId,pageUrl:window.location.href,pagePath:e.path,pageTitle:document.title,pageHash:e.hash,queryString:e.queryString,referrer:document.referrer||null,referrerDomain:a(document.referrer),utmSource:r.utmSource,utmMedium:r.utmMedium,utmCampaign:r.utmCampaign,utmTerm:r.utmTerm,utmContent:r.utmContent,userAgent:navigator.userAgent,language:navigator.language,languages:navigator.languages?Array.from(navigator.languages):[navigator.language],cookiesEnabled:navigator.cookieEnabled,doNotTrack:"1"===navigator.doNotTrack||"yes"===navigator.doNotTrack,screenWidth:screen.width,screenHeight:screen.height,screenResolution:screen.width+"x"+screen.height,viewportWidth:window.innerWidth,viewportHeight:window.innerHeight,colorDepth:screen.colorDepth,pixelRatio:window.devicePixelRatio||1,orientation:i(),cpuCores:navigator.hardwareConcurrency||null,deviceMemory:navigator.deviceMemory||null,maxTouchPoints:navigator.maxTouchPoints||0,hasTouch:"ontouchstart"in window||navigator.maxTouchPoints>0,connectionType:u.connectionType,effectiveType:u.effectiveType,downlink:u.downlink,rtt:u.rtt,saveData:u.saveData,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,timezoneOffset:(new Date).getTimezoneOffset(),localTime:(new Date).toISOString(),sessionId:o("_bt_session",sessionStorage),visitorId:o("_bt_visitor",localStorage),isNewVisitor:g,visitCount:c(),pageLoadTime:s.pageLoadTime,domReadyTime:s.domReadyTime,firstPaint:s.firstPaint,firstContentfulPaint:s.firstContentfulPaint}}function s(){var e=u();n("Collected data:",e),function(e){try{fetch(t.trackEndpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),keepalive:!0}).then((function(t){if(!t.ok)throw new Error("HTTP "+t.status);return t.json()})).then((function(t){n("Tracking sent:",t)})).catch((function(t){n("Send error:",t)}))}catch(t){n("Send error:",t)}}(e)}}();